import{d as S,b as V,r as t,o as w,c as D,w as o,A as q,a as e,f as B,e as E,g as x,F}from"./index-Bc2AUl2l.js";import{A as C,u as I,l as T}from"./index-DresFTUg.js";const O=S({__name:"FormAttention",props:{formState:{type:Object,default:()=>({})},typeAttentions:{type:Array,default:()=>[]},offices:{type:Array,default:()=>[]},person_id:{type:Number,required:!0},person_type:{type:String,required:!0}},emits:["onSuccess"],setup(d,{emit:p}){const s=p,v=V(!1),c=d,a=V({...C,...c.formState}),f=async l=>{let n={...a.value,person_id:c.person_id};await I(n),a.value={...C},l.value=!1,s("onSuccess")};return(l,n)=>{const m=t("v-combobox"),i=t("v-col"),b=t("v-text-field"),y=t("v-textarea"),u=t("v-row"),k=t("v-card-item"),g=t("v-btn"),A=t("v-spacer"),$=t("v-card-actions"),N=t("v-card"),U=t("v-form"),j=t("v-dialog");return w(),D(j,{"max-width":"500"},{activator:o(({props:_})=>[q(l.$slots,"btn",{activator:_})]),default:o(({isActive:_})=>[e(U,{onSubmit:B(r=>f(_),["prevent"])},{default:o(()=>[e(N,{title:a.value.id?"Editar":"Crear"},{default:o(()=>[e(k,null,{default:o(()=>[e(u,{justify:"center"},{default:o(()=>[e(i,{cols:"10",md:"8"},{default:o(()=>[e(m,{modelValue:a.value.type_attention_id,"onUpdate:modelValue":n[0]||(n[0]=r=>a.value.type_attention_id=r),items:d.typeAttentions,label:"Tipo de Atencion",outlined:"","return-object":!1,dense:""},null,8,["modelValue","items"])]),_:1}),e(i,{cols:"12",md:"4"},{default:o(()=>[e(b,{modelValue:a.value.report_number,"onUpdate:modelValue":n[1]||(n[1]=r=>a.value.report_number=r),label:"Nro de Reporte",outlined:"",dense:""},null,8,["modelValue"])]),_:1}),e(i,{cols:"12"},{default:o(()=>[e(y,{modelValue:a.value.description,"onUpdate:modelValue":n[2]||(n[2]=r=>a.value.description=r),label:"Descripcion",outlined:"",dense:""},null,8,["modelValue"])]),_:1}),e(i,{cols:"12"},{default:o(()=>[e(m,{modelValue:a.value.derivate_to,"onUpdate:modelValue":n[3]||(n[3]=r=>a.value.derivate_to=r),items:d.offices,label:"Derivar a",chips:"",multiple:"","return-object":!1},null,8,["modelValue","items"])]),_:1})]),_:1})]),_:1}),e($,null,{default:o(()=>[e(g,{text:"Cancel",onClick:r=>_.value=!1},null,8,["onClick"]),e(A),e(g,{text:"Guardar",color:"primary",type:"submit",loading:v.value},null,8,["loading"])]),_:2},1024)]),_:2},1032,["title"])]),_:2},1032,["onSubmit"])]),_:3})}}}),R=S({__name:"DeleteItem",props:{id:{type:Number,required:!0}},emits:["onSuccess"],setup(d,{emit:p}){const s=V(!1),v=p,c=d,a=async()=>{await T(c.id)&&(v("onSuccess"),s.value=!1)};return(f,l)=>{const n=t("v-btn"),m=t("v-card-text"),i=t("v-spacer"),b=t("v-card"),y=t("v-dialog");return w(),E(F,null,[e(n,{onClick:l[0]||(l[0]=u=>s.value=!0),color:"red",variant:"tonal",icon:"mdi-delete-empty",density:"comfortable",class:"mx-1"}),e(y,{modelValue:s.value,"onUpdate:modelValue":l[2]||(l[2]=u=>s.value=u),"max-width":"400",persistent:""},{default:o(()=>[e(b,{title:"Â¿Seguro(a) de eliminar la atencion?"},{actions:o(()=>[e(i),e(n,{onClick:l[1]||(l[1]=u=>s.value=!1),color:"secondary"},{default:o(()=>[x(" Cancelar ")]),_:1}),e(n,{onClick:a,variant:"flat"},{default:o(()=>[x(" Eliminar ")]),_:1})]),default:o(()=>[e(m,null,{default:o(()=>[x(" Se eliminara permanentemente ")]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}}});export{R as _,O as a};
