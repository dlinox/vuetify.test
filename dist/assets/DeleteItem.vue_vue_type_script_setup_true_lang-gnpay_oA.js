import{d as w,b as g,r as t,o as k,c as U,w as o,y as q,a as e,f as B,l as E,e as F,m as I,g as V,F as T}from"./index-K3GGTNWJ.js";import{A as S}from"./index-D7Wm7ZK5.js";import{u as G,j as M}from"./index-DVTv0XXH.js";const H=w({__name:"FormAttention",props:{formState:{type:Object,default:()=>({})},typeAttentions:{type:Array,default:()=>[]},offices:{type:Array,default:()=>[]},person_id:{type:Number,required:!0},person_type:{type:String,required:!0}},emits:["onSuccess"],setup(d,{emit:p}){const s=p,v=g(!1),u=d,a=g({...S,...u.formState}),f=async l=>{let n={...a.value,person_id:u.person_id};await G(n),a.value={...S},l.value=!1,s("onSuccess")};return(l,n)=>{const m=t("v-combobox"),i=t("v-col"),b=t("v-text-field"),y=t("v-textarea"),x=t("v-row"),c=t("v-card-item"),C=t("v-btn"),A=t("v-spacer"),D=t("v-card-actions"),$=t("v-card"),j=t("v-form"),N=t("v-dialog");return k(),U(N,{"max-width":"500"},{activator:o(({props:_})=>[q(l.$slots,"btn",{activator:_})]),default:o(({isActive:_})=>[e(j,{onSubmit:B(r=>f(_),["prevent"])},{default:o(()=>[e($,{title:a.value.id?"Editar":"Crear"},{default:o(()=>[e(c,null,{default:o(()=>[e(x,{justify:"center"},{default:o(()=>[e(i,{cols:"10",md:"8"},{default:o(()=>[e(m,{modelValue:a.value.type_attention_id,"onUpdate:modelValue":n[0]||(n[0]=r=>a.value.type_attention_id=r),items:d.typeAttentions,label:"Tipo de Atencion",outlined:"","return-object":!1,dense:""},null,8,["modelValue","items"])]),_:1}),e(i,{cols:"12",md:"4"},{default:o(()=>[e(b,{modelValue:a.value.report_number,"onUpdate:modelValue":n[1]||(n[1]=r=>a.value.report_number=r),label:"Nro de Reporte"},null,8,["modelValue"])]),_:1}),e(i,{cols:"12"},{default:o(()=>[e(y,{modelValue:a.value.description,"onUpdate:modelValue":n[2]||(n[2]=r=>a.value.description=r),label:"Descripcion"},null,8,["modelValue"])]),_:1}),e(i,{cols:"12"},{default:o(()=>[e(m,{modelValue:a.value.derivate_to,"onUpdate:modelValue":n[3]||(n[3]=r=>a.value.derivate_to=r),items:d.offices,label:"Derivar a",chips:"",multiple:"","return-object":!1},null,8,["modelValue","items"])]),_:1})]),_:1})]),_:1}),e(D,null,{default:o(()=>[e(C,{text:"Cancel",onClick:r=>_.value=!1},null,8,["onClick"]),e(A),e(C,{text:"Guardar",color:"primary",type:"submit",loading:v.value},null,8,["loading"])]),_:2},1024)]),_:2},1032,["title"])]),_:2},1032,["onSubmit"])]),_:3})}}}),J=w({__name:"DeleteItem",props:{id:{type:Number,required:!0}},emits:["onSuccess"],setup(d,{emit:p}){const s=g(!1),v=p,u=d,a=async()=>{await M(u.id)&&(v("onSuccess"),s.value=!1)};return(f,l)=>{const n=t("v-btn"),m=t("v-card-text"),i=t("v-spacer"),b=t("v-card"),y=t("v-dialog"),x=E("permission");return k(),F(T,null,[I(e(n,{onClick:l[0]||(l[0]=c=>s.value=!0),color:"red",variant:"tonal",icon:"mdi-delete-empty",density:"comfortable",class:"mx-1"},null,512),[[x,["attentions.delete-temporal"]]]),e(y,{modelValue:s.value,"onUpdate:modelValue":l[2]||(l[2]=c=>s.value=c),"max-width":"400",persistent:""},{default:o(()=>[e(b,{title:"Â¿Seguro(a) de eliminar la atencion?"},{actions:o(()=>[e(i),e(n,{onClick:l[1]||(l[1]=c=>s.value=!1),color:"secondary"},{default:o(()=>[V(" Cancelar ")]),_:1}),e(n,{onClick:a,variant:"flat"},{default:o(()=>[V(" Eliminar ")]),_:1})]),default:o(()=>[e(m,null,{default:o(()=>[V(" Se eliminara permanentemente ")]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}}});export{J as _,H as a};
