import{d as U,b as _,r as t,o as D,c as N,w as n,x as $,a as e,f as q}from"./index-DTYwYFXP.js";import{A as p,u as B}from"./index-B33hAZUl.js";const G=U({__name:"FormAttention",props:{formState:{type:Object,default:()=>({})},typeAttentions:{type:Array,default:()=>[]},offices:{type:Array,default:()=>[]},person_id:{type:Number,required:!0},person_type:{type:String,required:!0}},emits:["onSuccess"],setup(d,{emit:v}){const f=v,b=_(!1),i=d,o=_({...p,...i.formState}),y=async u=>{let l={...o.value,person_id:i.person_id};await B(l),o.value={...p},u.value=!1,f("onSuccess")};return(u,l)=>{const c=t("v-combobox"),r=t("v-col"),V=t("v-text-field"),x=t("v-textarea"),S=t("v-row"),w=t("v-card-item"),m=t("v-btn"),A=t("v-spacer"),C=t("v-card-actions"),g=t("v-card"),j=t("v-form"),k=t("v-dialog");return D(),N(k,{"max-width":"500"},{activator:n(({props:s})=>[$(u.$slots,"btn",{activator:s})]),default:n(({isActive:s})=>[e(j,{onSubmit:q(a=>y(s),["prevent"])},{default:n(()=>[e(g,{title:o.value.id?"Editar":"Crear"},{default:n(()=>[e(w,null,{default:n(()=>[e(S,{justify:"center"},{default:n(()=>[e(r,{cols:"10",md:"8"},{default:n(()=>[e(c,{modelValue:o.value.type_attention_id,"onUpdate:modelValue":l[0]||(l[0]=a=>o.value.type_attention_id=a),items:d.typeAttentions,label:"Tipo de Atencion",outlined:"","return-object":!1,dense:""},null,8,["modelValue","items"])]),_:1}),e(r,{cols:"12",md:"4"},{default:n(()=>[e(V,{modelValue:o.value.report_number,"onUpdate:modelValue":l[1]||(l[1]=a=>o.value.report_number=a),label:"Nro de Reporte",outlined:"",dense:""},null,8,["modelValue"])]),_:1}),e(r,{cols:"12"},{default:n(()=>[e(x,{modelValue:o.value.description,"onUpdate:modelValue":l[2]||(l[2]=a=>o.value.description=a),label:"Descripcion",outlined:"",dense:""},null,8,["modelValue"])]),_:1}),e(r,{cols:"12"},{default:n(()=>[e(c,{modelValue:o.value.derivate_to,"onUpdate:modelValue":l[3]||(l[3]=a=>o.value.derivate_to=a),items:d.offices,label:"Derivar a",chips:"",multiple:"","return-object":!1},null,8,["modelValue","items"])]),_:1})]),_:1})]),_:1}),e(C,null,{default:n(()=>[e(m,{text:"Cancel",onClick:a=>s.value=!1},null,8,["onClick"]),e(A),e(m,{text:"Guardar",color:"primary",type:"submit",loading:b.value},null,8,["loading"])]),_:2},1024)]),_:2},1032,["title"])]),_:2},1032,["onSubmit"])]),_:3})}}});export{G as _};
