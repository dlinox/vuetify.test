import{d as P,i as $,b as u,r as a,o as z,c as E,w as t,a as e,h as b,t as v,f as F,u as p,g as j}from"./index-C5Zp5wUb.js";import{_ as J}from"./ListHistoy.vue_vue_type_script_setup_true_lang-Ch_eZGo0.js";import{l as K,n as L,e as Q,f as W}from"./index-DETjhvcT.js";import{r as f}from"./ruleUtils-B_kFGKyT.js";import{A as k}from"./index-DJh3hycU.js";import"./data-table.constants-C9jLg9DU.js";const X=b("small",null,"Nueva Atencion",-1),Y=b("small",null,"Historial",-1),se=P({__name:"_professor",setup(Z){const B=$(),m=u("attention"),V=u([]),y=u([]),s=u(null),c=u(null),n=u({...k}),R=async()=>{var i,r,d;const{valid:w}=await((i=c.value)==null?void 0:i.validate());if(!w)return;let l={...n.value,person_id:(r=s.value)==null?void 0:r.id};await K(l,"002"),(d=c.value)==null||d.reset(),n.value={...k}};return(async()=>{s.value=await L(B.params.document),V.value=await Q(),y.value=await W()})(),(w,l)=>{const i=a("v-toolbar-title"),r=a("v-tab"),d=a("v-tabs"),C=a("v-toolbar"),x=a("v-combobox"),_=a("v-col"),T=a("v-text-field"),I=a("v-textarea"),A=a("v-row"),S=a("v-card-text"),U=a("v-btn"),q=a("v-spacer"),G=a("v-card-actions"),H=a("v-form"),g=a("v-tabs-window-item"),M=a("v-tabs-window"),O=a("v-card");return z(),E(O,null,{default:t(()=>[e(C,{density:"compact"},{default:t(()=>[e(i,null,{default:t(()=>{var o,D,N;return[b("small",null,v((o=s.value)==null?void 0:o.name)+" "+v((D=s.value)==null?void 0:D.paternal_surname)+" "+v((N=s.value)==null?void 0:N.maternal_surname),1)]}),_:1}),e(d,{modelValue:m.value,"onUpdate:modelValue":l[0]||(l[0]=o=>m.value=o)},{default:t(()=>[e(r,{value:"attention"},{default:t(()=>[X]),_:1}),e(r,{value:"history"},{default:t(()=>[Y]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(M,{modelValue:m.value,"onUpdate:modelValue":l[5]||(l[5]=o=>m.value=o)},{default:t(()=>[e(g,{value:"attention"},{default:t(()=>[e(H,{ref_key:"formRef",ref:c,onSubmit:F(R,["prevent"])},{default:t(()=>[e(A,{justify:"center"},{default:t(()=>[e(_,{cols:"10",md:"8"},{default:t(()=>[e(S,null,{default:t(()=>[e(A,{justify:"center"},{default:t(()=>[e(_,{cols:"12",md:"8"},{default:t(()=>[e(x,{modelValue:n.value.type_attention_id,"onUpdate:modelValue":l[1]||(l[1]=o=>n.value.type_attention_id=o),items:V.value,label:"Tipo de Atencion","return-object":!1,rules:[p(f)]},null,8,["modelValue","items","rules"])]),_:1}),e(_,{cols:"12",md:"4"},{default:t(()=>[e(T,{modelValue:n.value.report_number,"onUpdate:modelValue":l[2]||(l[2]=o=>n.value.report_number=o),label:"Nro de Reporte",rules:[p(f)]},null,8,["modelValue","rules"])]),_:1}),e(_,{cols:"12"},{default:t(()=>[e(I,{modelValue:n.value.description,"onUpdate:modelValue":l[3]||(l[3]=o=>n.value.description=o),label:"Descripcion",rules:[p(f)]},null,8,["modelValue","rules"])]),_:1}),e(_,{cols:"12"},{default:t(()=>[e(x,{modelValue:n.value.derivate_to,"onUpdate:modelValue":l[4]||(l[4]=o=>n.value.derivate_to=o),items:y.value,label:"Derivar a",chips:"",multiple:"","return-object":!1},null,8,["modelValue","items"])]),_:1})]),_:1})]),_:1}),e(G,null,{default:t(()=>[e(U,{color:"primary",type:"button",link:"",to:"/a/attentions"},{default:t(()=>[j(" Volver ")]),_:1}),e(q),e(U,{color:"primary",type:"submit",variant:"flat"},{default:t(()=>[j(" Guardar atenciÃ³n ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},512)]),_:1}),e(g,{value:"history"},{default:t(()=>{var o;return[e(J,{document:(o=s.value)==null?void 0:o.document_number,person:s.value,person_type:"002"},null,8,["document","person"])]}),_:1})]),_:1},8,["modelValue"])]),_:1})}}});export{se as default};
