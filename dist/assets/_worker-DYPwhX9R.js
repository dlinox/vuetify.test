import{d as W,i as $,b as s,r as a,o as z,c as E,w as t,a as e,h as b,t as v,f as F,u as p,g as N}from"./index-DXb1Hc3w.js";import{_ as J}from"./ListHistoy.vue_vue_type_script_setup_true_lang-C5NOn-8v.js";import{h as K,k as L,e as P,f as Q}from"./index-hLNS-uRs.js";import{A as j}from"./index-DJh3hycU.js";import{r as f}from"./ruleUtils-B_kFGKyT.js";import"./data-table.constants-C9jLg9DU.js";const X=b("small",null,"Nueva Atencion",-1),Y=b("small",null,"Historial",-1),ue=W({__name:"_worker",setup(Z){const B=$(),m=s("attention"),V=s([]),w=s([]),u=s(null),c=s(null),n=s({...j}),R=async()=>{var i,r,d;const{valid:y}=await((i=c.value)==null?void 0:i.validate());if(!y)return;let l={...n.value,person_id:(r=u.value)==null?void 0:r.id};await K(l,"003"),(d=c.value)==null||d.reset(),n.value={...j}};return(async()=>{u.value=await L(B.params.document),V.value=await P(),w.value=await Q()})(),(y,l)=>{const i=a("v-toolbar-title"),r=a("v-tab"),d=a("v-tabs"),C=a("v-toolbar"),x=a("v-combobox"),_=a("v-col"),T=a("v-text-field"),I=a("v-textarea"),k=a("v-row"),S=a("v-card-text"),A=a("v-btn"),q=a("v-spacer"),G=a("v-card-actions"),H=a("v-form"),U=a("v-tabs-window-item"),M=a("v-tabs-window"),O=a("v-card");return z(),E(O,null,{default:t(()=>[e(C,{density:"compact"},{default:t(()=>[e(i,null,{default:t(()=>{var o,g,D;return[b("small",null,v((o=u.value)==null?void 0:o.name)+" "+v((g=u.value)==null?void 0:g.paternal_surname)+" "+v((D=u.value)==null?void 0:D.maternal_surname),1)]}),_:1}),e(d,{modelValue:m.value,"onUpdate:modelValue":l[0]||(l[0]=o=>m.value=o)},{default:t(()=>[e(r,{value:"attention"},{default:t(()=>[X]),_:1}),e(r,{value:"history"},{default:t(()=>[Y]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(M,{modelValue:m.value,"onUpdate:modelValue":l[5]||(l[5]=o=>m.value=o)},{default:t(()=>[e(U,{value:"attention"},{default:t(()=>[e(H,{ref_key:"formRef",ref:c,onSubmit:F(R,["prevent"])},{default:t(()=>[e(k,{justify:"center"},{default:t(()=>[e(_,{cols:"10",md:"8"},{default:t(()=>[e(S,null,{default:t(()=>[e(k,{justify:"center"},{default:t(()=>[e(_,{cols:"12",md:"8"},{default:t(()=>[e(x,{modelValue:n.value.type_attention_id,"onUpdate:modelValue":l[1]||(l[1]=o=>n.value.type_attention_id=o),items:V.value,label:"Tipo de Atencion","return-object":!1,rules:[p(f)]},null,8,["modelValue","items","rules"])]),_:1}),e(_,{cols:"12",md:"4"},{default:t(()=>[e(T,{modelValue:n.value.report_number,"onUpdate:modelValue":l[2]||(l[2]=o=>n.value.report_number=o),label:"Nro de Reporte",rules:[p(f)]},null,8,["modelValue","rules"])]),_:1}),e(_,{cols:"12"},{default:t(()=>[e(I,{modelValue:n.value.description,"onUpdate:modelValue":l[3]||(l[3]=o=>n.value.description=o),label:"Descripcion",rules:[p(f)]},null,8,["modelValue","rules"])]),_:1}),e(_,{cols:"12"},{default:t(()=>[e(x,{modelValue:n.value.derivate_to,"onUpdate:modelValue":l[4]||(l[4]=o=>n.value.derivate_to=o),items:w.value,label:"Derivar a",chips:"",multiple:"","return-object":!1},null,8,["modelValue","items"])]),_:1})]),_:1})]),_:1}),e(G,null,{default:t(()=>[e(A,{color:"primary",type:"button",link:"",to:"/a/attentions"},{default:t(()=>[N(" Volver ")]),_:1}),e(q),e(A,{color:"primary",type:"submit",variant:"flat"},{default:t(()=>[N(" Guardar atenciÃ³n ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},512)]),_:1}),e(U,{value:"history"},{default:t(()=>{var o;return[e(J,{document:(o=u.value)==null?void 0:o.document_number,person:u.value,person_type:"003"},null,8,["document","person"])]}),_:1})]),_:1},8,["modelValue"])]),_:1})}}});export{ue as default};
