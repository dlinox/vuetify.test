import{d as V,v as $,b as p,r as n,o as s,c as r,w as e,a as t,f as P,g as c,e as B,j as O,t as _,F as D,k as W,l as R,m as F,h as x}from"./index-Dcw02d0D.js";import{a as j,b as z,s as H,c as J,d as K,e as Q,f as Y}from"./index-rMzRKMBG.js";import{_ as q,a as X}from"./DeleteItem.vue_vue_type_script_setup_true_lang-CUicmEiN.js";import"./data-table.constants-C9jLg9DU.js";import"./index-SwPYqIxQ.js";const Z=V({__name:"StudentSearchWindow",setup(T){const v=$(),l=p(""),u=p(null),y=p([]),d=[o=>!!o||"Este campo es requerido",o=>o&&o.length===6||"Debe tener 6 dígitos",o=>/^[0-9]*$/.test(o)||"Solo se permiten números"],I=async o=>{await j(o),v.push(`/a/attentions/student/${o.studentCode}`)},C=async()=>{const{valid:o}=await u.value.validate();if(!o)return;let m=await z(l.value);y.value=[m.data]};return(o,m)=>{const k=n("v-icon"),f=n("v-btn"),w=n("v-text-field"),g=n("v-form"),A=n("v-col"),S=n("v-list-item-title"),N=n("v-list-item-subtitle"),a=n("v-list-item"),h=n("v-list"),U=n("v-row");return s(),r(U,{justify:"center"},{default:e(()=>[t(A,{cols:"8",md:"6",class:"mt-8"},{default:e(()=>[t(g,{ref_key:"formRef",ref:u,onSubmit:P(C,["prevent"])},{default:e(()=>[t(w,{modelValue:l.value,"onUpdate:modelValue":m[0]||(m[0]=b=>l.value=b),label:"Buscar por código de estudiante",class:"w-80",rules:d},{"append-inner":e(()=>[t(f,{icon:"",size:"small",onClick:C},{default:e(()=>[t(k,null,{default:e(()=>[c("mdi-magnify")]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1},512)]),_:1}),t(A,{cols:"12"},{default:e(()=>[t(h,null,{default:e(()=>[(s(!0),B(D,null,O(y.value,b=>(s(),r(a,{key:b.id,onClick:M=>I(b)},{prepend:e(()=>[t(k,null,{default:e(()=>[c("mdi-account")]),_:1})]),default:e(()=>[t(S,null,{default:e(()=>[c(_(b.document)+" | "+_(b.fullName),1)]),_:2},1024),t(N,null,{default:e(()=>[c(" ["+_(b.studentCode)+"] "+_(b.professionalSchool),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})]),_:1})}}}),ee=[{id:1,document_type:"001",document_number:"00000001",name:"John",paternal_surname:"Doe",maternal_surname:"Smith",student_code:"202001",career_code:"001",career_name:"ADMINISTRACIÓN"},{id:2,document_type:"001",document_number:"00000002",name:"Jane",paternal_surname:"Doe",maternal_surname:"Smith",student_code:"202002",career_code:"002",career_name:"ANTROPOLOGÍA"},{id:3,document_type:"001",document_number:"00000003",name:"Mary",paternal_surname:"Coe",maternal_surname:"White",student_code:"202003",career_code:"003",career_name:"ARQUITECTURA Y URBANISMO"},{id:4,document_type:"001",document_number:"00000004",name:"Peter",paternal_surname:"Foe",maternal_surname:"Black",student_code:"202004",career_code:"004",career_name:"ARTE"},{id:5,document_type:"001",document_number:"00000005",name:"Paul",paternal_surname:"Goe",maternal_surname:"Brown",student_code:"202005",career_code:"008",career_name:"BIOLOGÍA"},{id:6,document_type:"001",document_number:"00000006",name:"George",paternal_surname:"Hoe",maternal_surname:"Green",student_code:"202006",career_code:"011",career_name:"CIENCIAS CONTABLES"},{id:7,document_type:"001",document_number:"00000007",name:"Ringo",paternal_surname:"Joe",maternal_surname:"Blue",student_code:"202007",career_code:"012",career_name:"CIENCIAS DE LA COMUNICACIÓN SOCIAL"},{id:8,document_type:"001",document_number:"00000008",name:"Stuart",paternal_surname:"Koe",maternal_surname:"Yellow",student_code:"202008",career_code:"013",career_name:"CIENCIAS FÍSICO MATEMÁTICAS"},{id:9,document_type:"001",document_number:"00000009",name:"David",paternal_surname:"Loe",maternal_surname:"Orange",student_code:"202009",career_code:"015",career_name:"DERECHO"},{id:10,document_type:"001",document_number:"00000010",name:"Mick",paternal_surname:"Moe",maternal_surname:"Red",student_code:"202010",career_code:"034",career_name:"EDUCACIÓN FÍSICA"},{id:11,document_type:"001",document_number:"00000011",name:"Keith",paternal_surname:"Noe",maternal_surname:"Violet",student_code:"202011",career_code:"035",career_name:"EDUCACIÓN INICIAL"},{id:12,document_type:"001",document_number:"00000012",name:"Charlie",paternal_surname:"Ooe",maternal_surname:"White",student_code:"202012",career_code:"036",career_name:"EDUCACIÓN PRIMARIA"},{id:13,document_type:"001",document_number:"00000013",name:"Bill",paternal_surname:"Poe",maternal_surname:"Black",student_code:"202013",career_code:"037",career_name:"EDUCACIÓN SECUNDARIA"},{id:14,document_type:"001",document_number:"00000014",name:"Brian",paternal_surname:"Qoe",maternal_surname:"Brown",student_code:"202014",career_code:"041",career_name:"ENFERMERÍA"},{id:15,document_type:"001",document_number:"00000015",name:"Roger",paternal_surname:"Roe",maternal_surname:"Green",student_code:"202015",career_code:"042",career_name:"INGENIERÍA AGRÍCOLA"}],te=V({__name:"ProfessorSearchWindow",setup(T){const v=$(),l=p(""),u=p([]),y=async I=>{v.push(`/a/attentions/professor/${I.document_number}`)},d=async()=>{console.log(ee),u.value=await H(l.value),console.log(u)};return(I,C)=>{const o=n("v-icon"),m=n("v-btn"),k=n("v-text-field"),f=n("v-col"),w=n("v-list-item-title"),g=n("v-list-item-subtitle"),A=n("v-list-item"),S=n("v-list"),N=n("v-row");return s(),r(N,{justify:"center"},{default:e(()=>[t(f,{cols:"8",md:"6",class:"mt-8"},{default:e(()=>[t(k,{modelValue:l.value,"onUpdate:modelValue":[C[0]||(C[0]=a=>l.value=a),d],label:"Buscar",class:"w-80"},{"append-inner":e(()=>[t(m,{icon:"",size:"small",onClick:d},{default:e(()=>[t(o,null,{default:e(()=>[c("mdi-magnify")]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}),t(f,{cols:"12"},{default:e(()=>[t(S,null,{default:e(()=>[(s(!0),B(D,null,O(u.value,a=>(s(),r(A,{key:a.id,onClick:h=>y(a)},{prepend:e(()=>[t(o,null,{default:e(()=>[c("mdi-account")]),_:1})]),default:e(()=>[t(w,null,{default:e(()=>[c(_(a.document_number)+" | "+_(a.name)+" "+_(a.paternal_surname)+" "+_(a.maternal_surname),1)]),_:2},1024),t(g)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})]),_:1})}}}),ne=V({__name:"WorkerSearchWindow",setup(T){const v=$(),l=p(""),u=p([]),y=async I=>{v.push(`/a/attentions/worker/${I.document_number}`)},d=async()=>{u.value=await J(l.value)};return(I,C)=>{const o=n("v-icon"),m=n("v-btn"),k=n("v-text-field"),f=n("v-col"),w=n("v-list-item-title"),g=n("v-list-item-subtitle"),A=n("v-list-item"),S=n("v-list"),N=n("v-row");return s(),r(N,{justify:"center"},{default:e(()=>[t(f,{cols:"8",md:"6",class:"mt-8"},{default:e(()=>[t(k,{modelValue:l.value,"onUpdate:modelValue":[C[0]||(C[0]=a=>l.value=a),d],label:"Buscar",class:"w-80"},{"append-inner":e(()=>[t(m,{icon:"",size:"small",onClick:d},{default:e(()=>[t(o,null,{default:e(()=>[c("mdi-magnify")]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}),t(f,{cols:"12"},{default:e(()=>[t(S,null,{default:e(()=>[(s(!0),B(D,null,O(u.value,a=>(s(),r(A,{key:a.id,onClick:h=>y(a)},{prepend:e(()=>[t(o,null,{default:e(()=>[c("mdi-account")]),_:1})]),default:e(()=>[t(w,null,{default:e(()=>[c(_(a.document_number)+" | "+_(a.name)+" "+_(a.paternal_surname)+" "+_(a.maternal_surname),1)]),_:2},1024),t(g)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})]),_:1})}}}),oe=x("small",null,"Estudiantes",-1),ae=x("small",null,"Docentes",-1),se=x("small",null,"Adminitrativos / Cas / Obras",-1),me=V({__name:"index",setup(T){const v=p("one"),l=p([]),u=p([]),y=p([]),d=async()=>{l.value=await K()};return(async()=>{await d(),u.value=await Q(),y.value=await Y()})(),(C,o)=>{const m=n("v-tab"),k=n("v-tabs"),f=n("v-toolbar"),w=n("v-tabs-window-item"),g=n("v-tabs-window"),A=n("v-card"),S=n("v-col"),N=n("v-spacer"),a=n("v-list-item-title"),h=n("v-list-item-subtitle"),U=n("v-icon"),b=n("v-btn"),M=n("v-list-item"),L=n("v-row"),E=W("permission");return s(),r(L,{"no-gutters":""},{default:e(()=>[t(S,{cols:"12",md:"7"},{default:e(()=>[t(A,{class:"rounded-0"},{default:e(()=>[t(f,{density:"compact",title:"Nueva tencion"},{extension:e(()=>[t(k,{modelValue:v.value,"onUpdate:modelValue":o[0]||(o[0]=i=>v.value=i)},{default:e(()=>[R((s(),r(m,{value:"student"},{default:e(()=>[oe]),_:1})),[[E,["attentions.student"]]]),R((s(),r(m,{value:"professor"},{default:e(()=>[ae]),_:1})),[[E,["attentions.professor"]]]),R((s(),r(m,{value:"worker"},{default:e(()=>[se]),_:1})),[[E,["attentions.worker"]]])]),_:1},8,["modelValue"])]),_:1}),t(g,{modelValue:v.value,"onUpdate:modelValue":o[1]||(o[1]=i=>v.value=i)},{default:e(()=>[R((s(),r(w,{value:"student"},{default:e(()=>[t(Z)]),_:1})),[[E,["attentions.student"]]]),R((s(),r(w,{value:"professor"},{default:e(()=>[t(te)]),_:1})),[[E,["attentions.professor"]]]),R((s(),r(w,{value:"worker"},{default:e(()=>[t(ne)]),_:1})),[[E,["attentions.worker"]]])]),_:1},8,["modelValue"])]),_:1})]),_:1}),t(S,{cols:"12",md:"5"},{default:e(()=>[t(A,{class:"rounded-0"},{default:e(()=>[t(f,{density:"compact",title:"Hoy"},{default:e(()=>[t(N)]),_:1}),(s(!0),B(D,null,O(l.value,i=>(s(),r(M,{key:i.id,class:"border-t"},{prepend:e(()=>[t(q,{id:i.id,onOnSuccess:d},null,8,["id"]),t(X,{"form-state":i,onOnSuccess:d,offices:y.value,"type-attentions":u.value,person_id:i.person_id,person_type:"001"},{btn:e(({activator:G})=>[t(b,F({icon:"",density:"comfortable",variant:"tonal",color:"teal-darken-3",ref_for:!0},G),{default:e(()=>[t(U,null,{default:e(()=>[c("mdi-pencil")]),_:1})]),_:2},1040)]),_:2},1032,["form-state","offices","type-attentions","person_id"])]),default:e(()=>[t(a,null,{default:e(()=>[c(_(i.type_attention_name),1)]),_:2},1024),t(h,null,{default:e(()=>[c(_(i.person_name),1)]),_:2},1024),t(h,null,{default:e(()=>[x("small",null,_(i.unit_name),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})}}});export{me as default};
