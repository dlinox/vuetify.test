import{d as T,v as z,b as v,r as n,o as l,c as a,w as t,a as e,f as R,g as i,e as D,j as N,t as _,F as U,k as F,l as B,m as q,h as W}from"./index-CEQLA3zn.js";import{a as H,_ as L,s as M,b as G,c as J,d as K,e as Q}from"./index-B_Nqn3en.js";import{_ as X,a as Y}from"./DeleteItem.vue_vue_type_script_setup_true_lang-BMWlDgf8.js";import"./data-table.constants-C9jLg9DU.js";import"./index-D7Wm7ZK5.js";const Z=T({__name:"StudentSearchWindow",setup(j){const p=z(),c=v(""),r=v(null),w=v([]),d=[o=>!!o||"Este campo es requerido",o=>o&&o.length===6||"Debe tener 6 dígitos",o=>/^[0-9]*$/.test(o)||"Solo se permiten números"],V=async o=>{await H(o),p.push(`/a/attentions/student/${o.studentCode}`)},y=async()=>{const{valid:o}=await r.value.validate();if(!o)return;let u=await L(c.value);w.value=[u.data]};return(o,u)=>{const h=n("v-icon"),f=n("v-btn"),k=n("v-text-field"),x=n("v-form"),g=n("v-col"),C=n("v-list-item-title"),S=n("v-list-item-subtitle"),s=n("v-list-item"),A=n("v-list"),O=n("v-row");return l(),a(O,{justify:"center"},{default:t(()=>[e(g,{cols:"8",md:"6",class:"mt-8"},{default:t(()=>[e(x,{ref_key:"formRef",ref:r,onSubmit:R(y,["prevent"])},{default:t(()=>[e(k,{modelValue:c.value,"onUpdate:modelValue":u[0]||(u[0]=b=>c.value=b),label:"Buscar por código de estudiante",class:"w-80",rules:d},{"append-inner":t(()=>[e(f,{icon:"",size:"small",onClick:y},{default:t(()=>[e(h,null,{default:t(()=>[i("mdi-magnify")]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1},512)]),_:1}),e(g,{cols:"12"},{default:t(()=>[e(A,null,{default:t(()=>[(l(!0),D(U,null,N(w.value,b=>(l(),a(s,{key:b.id,onClick:E=>V(b)},{prepend:t(()=>[e(h,null,{default:t(()=>[i("mdi-account")]),_:1})]),default:t(()=>[e(C,null,{default:t(()=>[i(_(b.document)+" | "+_(b.fullName),1)]),_:2},1024),e(S,null,{default:t(()=>[i(" ["+_(b.studentCode)+"] "+_(b.professionalSchool),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})]),_:1})}}}),tt=T({__name:"ProfessorSearchWindow",setup(j){const p=z(),c=v(""),r=v([]),w=async V=>{p.push(`/a/attentions/professor/${V.document_number}`)},d=async()=>{r.value=await M(c.value)};return(V,y)=>{const o=n("v-icon"),u=n("v-btn"),h=n("v-text-field"),f=n("v-col"),k=n("v-list-item-title"),x=n("v-list-item-subtitle"),g=n("v-list-item"),C=n("v-list"),S=n("v-row");return l(),a(S,{justify:"center"},{default:t(()=>[e(f,{cols:"8",md:"6",class:"mt-8"},{default:t(()=>[e(h,{modelValue:c.value,"onUpdate:modelValue":[y[0]||(y[0]=s=>c.value=s),d],label:"Buscar",class:"w-80"},{"append-inner":t(()=>[e(u,{icon:"",size:"small",onClick:d},{default:t(()=>[e(o,null,{default:t(()=>[i("mdi-magnify")]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(f,{cols:"12"},{default:t(()=>[e(C,null,{default:t(()=>[(l(!0),D(U,null,N(r.value,s=>(l(),a(g,{key:s.id,onClick:A=>w(s)},{prepend:t(()=>[e(o,null,{default:t(()=>[i("mdi-account")]),_:1})]),default:t(()=>[e(k,null,{default:t(()=>[i(_(s.document_number)+" | "+_(s.name)+" "+_(s.paternal_surname)+" "+_(s.maternal_surname),1)]),_:2},1024),e(x)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})]),_:1})}}}),et=T({__name:"WorkerSearchWindow",setup(j){const p=z(),c=v(""),r=v([]),w=async V=>{p.push(`/a/attentions/worker/${V.document_number}`)},d=async()=>{r.value=await G(c.value)};return(V,y)=>{const o=n("v-icon"),u=n("v-btn"),h=n("v-text-field"),f=n("v-col"),k=n("v-list-item-title"),x=n("v-list-item-subtitle"),g=n("v-list-item"),C=n("v-list"),S=n("v-row");return l(),a(S,{justify:"center"},{default:t(()=>[e(f,{cols:"8",md:"6",class:"mt-8"},{default:t(()=>[e(h,{modelValue:c.value,"onUpdate:modelValue":[y[0]||(y[0]=s=>c.value=s),d],label:"Buscar",class:"w-80"},{"append-inner":t(()=>[e(u,{icon:"",size:"small",onClick:d},{default:t(()=>[e(o,null,{default:t(()=>[i("mdi-magnify")]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(f,{cols:"12"},{default:t(()=>[e(C,null,{default:t(()=>[(l(!0),D(U,null,N(r.value,s=>(l(),a(g,{key:s.id,onClick:A=>w(s)},{prepend:t(()=>[e(o,null,{default:t(()=>[i("mdi-account")]),_:1})]),default:t(()=>[e(k,null,{default:t(()=>[i(_(s.document_number)+" | "+_(s.name)+" "+_(s.paternal_surname)+" "+_(s.maternal_surname),1)]),_:2},1024),e(x)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})]),_:1})}}}),nt=W("small",null,"Estudiantes",-1),ot=W("small",null,"Docentes",-1),st=W("small",null,"Adminitrativos / Cas / Obras",-1),ut=T({__name:"index",setup(j){const p=v("one"),c=v([]),r=v([]),w=v([]),d=async()=>{c.value=await J()};return(async()=>{await d(),r.value=await K(),w.value=await Q()})(),(y,o)=>{const u=n("v-tab"),h=n("v-tabs"),f=n("v-toolbar"),k=n("v-tabs-window-item"),x=n("v-tabs-window"),g=n("v-card"),C=n("v-col"),S=n("v-spacer"),s=n("v-list-item-title"),A=n("v-list-item-subtitle"),O=n("v-icon"),b=n("v-btn"),E=n("v-list-item"),I=n("v-row"),$=F("permission");return l(),a(I,{"no-gutters":""},{default:t(()=>[e(C,{cols:"12",md:"7"},{default:t(()=>[e(g,{class:"rounded-0"},{default:t(()=>[e(f,{density:"compact",title:"Nueva tencion"},{extension:t(()=>[e(h,{modelValue:p.value,"onUpdate:modelValue":o[0]||(o[0]=m=>p.value=m)},{default:t(()=>[B((l(),a(u,{value:"student"},{default:t(()=>[nt]),_:1})),[[$,["attentions.student"]]]),B((l(),a(u,{value:"professor"},{default:t(()=>[ot]),_:1})),[[$,["attentions.professor"]]]),B((l(),a(u,{value:"worker"},{default:t(()=>[st]),_:1})),[[$,["attentions.worker"]]])]),_:1},8,["modelValue"])]),_:1}),e(x,{modelValue:p.value,"onUpdate:modelValue":o[1]||(o[1]=m=>p.value=m)},{default:t(()=>[B((l(),a(k,{value:"student"},{default:t(()=>[e(Z)]),_:1})),[[$,["attentions.student"]]]),B((l(),a(k,{value:"professor"},{default:t(()=>[e(tt)]),_:1})),[[$,["attentions.professor"]]]),B((l(),a(k,{value:"worker"},{default:t(()=>[e(et)]),_:1})),[[$,["attentions.worker"]]])]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(C,{cols:"12",md:"5"},{default:t(()=>[e(g,{class:"rounded-0"},{default:t(()=>[e(f,{density:"compact",title:"Hoy"},{default:t(()=>[e(S)]),_:1}),(l(!0),D(U,null,N(c.value,m=>(l(),a(E,{key:m.id,class:"border-t"},{prepend:t(()=>[e(X,{id:m.id,onOnSuccess:d},null,8,["id"]),e(Y,{"form-state":m,onOnSuccess:d,offices:w.value,"type-attentions":r.value,person_id:m.person_id,person_type:"001"},{btn:t(({activator:P})=>[B((l(),a(b,q({icon:"",density:"comfortable",variant:"tonal",color:"teal-darken-3",ref_for:!0},P),{default:t(()=>[e(O,null,{default:t(()=>[i("mdi-pencil")]),_:1})]),_:2},1040)),[[$,["attentions.edit-temporal"]]])]),_:2},1032,["form-state","offices","type-attentions","person_id"])]),default:t(()=>[e(s,null,{default:t(()=>[i(_(m.type_attention_name),1)]),_:2},1024),e(A,null,{default:t(()=>[i(_(m.person_name),1)]),_:2},1024),e(A,null,{default:t(()=>[W("small",null,_(m.unit_name),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})}}});export{ut as default};
